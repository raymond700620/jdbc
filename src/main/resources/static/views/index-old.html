<html ng-app="certApp">
<head>
    <title>Pivotal Certification Dashboard</title>
    <script src="js/lib/angular.min.js"></script>
    <script src="js/app/app.js"></script>
    <script src="js/lib/Chart.min.js"></script>
    <script src="js/lib/angular-chart.js"></script>
    <link rel="stylesheet" href="css/lib/caddy.css">

    <link rel="stylesheet" href="css/app/mystyle.css">

</head>


<body ng-controller="certController" >


<header>
    <a href="/">
        <img alt="Pivotal Education" src="views/logo.svg"/>
    </a>
</header>

<h2>Pivotal Certification Dashboard</h2>



<table>
    <tr>
        <td>Start: <select ng-model="startYear" ng-options="x for x in years">
                    </select>
        </td>
        <td>End: <select ng-model="endYear" ng-options="x for x in years">
                </select>
        </td>
        <td>Region: <select ng-model="region" ng-options="x for x in regions">
                    </select>
        </td>
        <td><button ng-click="searchCertSummary()">
            Search
            </button>
        </td>
    </tr>
</table>

<br>

<!-- table for layout the left and right -->
<div style="display:table">
    <div style="display:table-row;">
        <div style="display:table-cell;">
<!-- table for display the cert summary -->

        <table>
            <tr>
                <th>Region</th>
                <th>Exam</th>
                <th>Pass</th>
                <th>Fail</th>
                <th>Refused</th>
                <th>Total</th>
                <th>Pass Rate</th>
            </tr>
            <tr ng-repeat="x in response">
                <td>{{ x.region }}</td>
                <td>{{ x.pivotalExamCode }}</td>
                <td>{{ x.passCount }}</td>
                <td>{{ x.failCount }}</td>
                <td>{{ x.refusedCount }}</td>
                <td>{{ x.total }}</td>
                <td>{{ x.passCount*100/x.total | number : 2}}%</td>
            </tr>
            <tr id="Overall">
                <td>Overall</td>
                <td>All courses</td>
                <td>{{ overallPass }}</td>
                <td>{{ overallFail }}</td>
                <td>{{ overallRefused}}</td>
                <td>{{ overallPass + overallFail + overallRefused }}</td>
                <td>{{ overallPass*100/(overallPass + overallFail + overallRefused) | number : 2}}%</td>
            </tr>
        </table>
        </div>
        <div style="display:table-cell;">&nbsp;</div>

        <div style="display:table-cell;">

          <table>
              <tr>
                <th id="pieChartTitle">All Courses</th>
              </tr>
              <tr><th>
                <canvas id="pie" class="chart chart-pie"
                      chart-data="data" chart-labels="labels" chart-options="options">
                </canvas>
              </th></tr>
          </table>

        </div>
    </div>

</div>

</body>
</html>