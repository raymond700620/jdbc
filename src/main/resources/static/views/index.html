<html ng-app="certApp">
<style>
table, th , td  {
  border: 1px solid grey;
  border-collapse: collapse;
  padding: 5px;
}
table tr:nth-child(odd) {
  background-color: #f1f1f1;
}
table tr:nth-child(even) {
  background-color: #ffffff;
}
table tr#Overall {
  background-color: #F3FF33;
}
</style>
<head>
    <title>Pivotal Certification Dashboard</title>
    <script src="js/lib/angular.min.js"></script>
    <script src="js/app/app.js"></script>
    <script src="js/lib/Chart.min.js"></script>
    <script src="js/lib/angular-chart.js"></script>


    <link rel="stylesheet" href="css/app/mystyle.css">
</head>
<body ng-controller="certController" >

<h2>Pivotal Certification Dashboard</h2>


<!-- table for search filter-->
<table>
    <tr>
        <td>Start: <select ng-model="startYear" ng-options="x for x in years">
                    </select>
        </td>
        <td>End: <select ng-model="endYear" ng-options="x for x in years">
                </select>
        </td>
        <td>Region: <select ng-model="region" ng-options="x for x in regions">
                    </select>
        </td>
        <td><button ng-click="searchCertSummary()">
            Search
            </button>
        </td>
    </tr>
</table>

<br>

<!-- table for layout the left and right -->
<table>
  <tr>
      <td>
<!-- table for display the cert summary -->
        <table>
            <tr>
                <!--<th>No.</th>-->
                <th>Region</th>
                <th>Exam</th>
                <th>Pass</th>
                <th>Fail</th>
                <th>Refused</th>
                <th>Total</th>
                <th>Pass Rate</th>
            </tr>
            <tr ng-repeat="x in response">
                <!--<td>{{ $index + 1 }}</td>-->
                <td>{{ x.region }}</td>
                <td>{{ x.pivotalExamCode }}</td>
                <td>{{ x.passCount }}</td>
                <td>{{ x.failCount }}</td>
                <td>{{ x.refusedCount }}</td>
                <td>{{ x.total }}</td>
                <td>{{ x.passCount*100/x.total | number : 2}}%</td>
            </tr>
            <tr id="Overall">
                <td>Overall</td>
                <td>All courses</td>
                <td>{{ overallPass }}</td>
                <td>{{ overallFail }}</td>
                <td>{{ overallRefused}}</td>
                <td>{{ overallPass + overallFail + overallRefused }}</td>
                <td>{{ overallPass*100/(overallPass + overallFail + overallRefused) | number : 2}}%</td>
            </tr>
        </table>
      </td>
      <td>
          <canvas id="pie" class="chart chart-pie"
                  chart-data="data" chart-labels="labels" chart-options="options">
          </canvas>
      </td>
  </tr>

</table>

</body>
</html>